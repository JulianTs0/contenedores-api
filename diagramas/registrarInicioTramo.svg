<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="828px" preserveAspectRatio="none" style="width:992px;height:828px;" version="1.1" viewBox="0 0 992 828" width="992px" zoomAndPan="magnify"><defs><filter height="300%" id="f1f8fashph6vsl" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><text fill="#000000" font-family="sans-serif" font-size="18" lengthAdjust="spacingAndGlyphs" textLength="324" x="335" y="26.708">TramoService - registrarInicioTramo</text><rect fill="#FFFFFF" filter="url(#f1f8fashph6vsl)" height="653.7891" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="253" y="152.3828"/><rect fill="#FFFFFF" filter="url(#f1f8fashph6vsl)" height="29.1328" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="425" y="181.5156"/><rect fill="#FFFFFF" filter="url(#f1f8fashph6vsl)" height="29.1328" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="425" y="298.0469"/><rect fill="#FFFFFF" filter="url(#f1f8fashph6vsl)" height="30" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="425" y="620.5078"/><rect fill="#FFFFFF" filter="url(#f1f8fashph6vsl)" height="29.1328" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="553.5" y="239.7813"/><rect fill="#FFFFFF" filter="url(#f1f8fashph6vsl)" height="29.1328" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="553.5" y="703.7734"/><rect fill="#FFFFFF" filter="url(#f1f8fashph6vsl)" height="29.1328" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="668" y="356.3125"/><rect fill="#FFFFFF" filter="url(#f1f8fashph6vsl)" height="29.1328" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="668" y="414.5781"/><rect fill="#FFFFFF" filter="url(#f1f8fashph6vsl)" height="29.1328" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="801.5" y="472.8438"/><rect fill="#FFFFFF" filter="url(#f1f8fashph6vsl)" height="29.1328" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="801.5" y="555.2422"/><rect fill="#FFFFFF" filter="url(#f1f8fashph6vsl)" height="29.1328" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="801.5" y="762.0391"/><rect fill="#FFFFFF" filter="url(#f1f8fashph6vsl)" height="75.3984" style="stroke: #000000; stroke-width: 2.0;" width="688" x="198" y="516.9766"/><rect fill="#FFFFFF" filter="url(#f1f8fashph6vsl)" height="133.6641" style="stroke: #000000; stroke-width: 2.0;" width="688" x="198" y="665.5078"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="48" x2="48" y1="121.25" y2="816.1719"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="258" x2="258" y1="121.25" y2="816.1719"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="430" x2="430" y1="121.25" y2="816.1719"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="558" x2="558" y1="121.25" y2="816.1719"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="673" x2="673" y1="121.25" y2="816.1719"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="806" x2="806" y1="121.25" y2="816.1719"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="936" x2="936" y1="121.25" y2="816.1719"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="74" x="8" y="117.9482">Cliente/API</text><ellipse cx="48" cy="47.9531" fill="#FEFECE" filter="url(#f1f8fashph6vsl)" rx="8" ry="8" style="stroke: #A80036; stroke-width: 2.0;"/><path d="M48,55.9531 L48,82.9531 M35,63.9531 L61,63.9531 M48,82.9531 L35,97.9531 M48,82.9531 L61,97.9531 " fill="none" filter="url(#f1f8fashph6vsl)" style="stroke: #A80036; stroke-width: 2.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="94" x="208" y="117.9482">TramoService</text><ellipse cx="258" cy="88.9531" fill="#FEFECE" filter="url(#f1f8fashph6vsl)" rx="12" ry="12" style="stroke: #A80036; stroke-width: 2.0;"/><polygon fill="#A80036" points="254,76.9531,260,71.9531,258,76.9531,260,81.9531,254,76.9531" style="stroke: #A80036; stroke-width: 1.0;"/><rect fill="#FEFECE" filter="url(#f1f8fashph6vsl)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="132" x="362" y="85.9531"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="118" x="369" y="105.9482">TramoRepository</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="95" x="508" y="117.9482">EnviosService</text><ellipse cx="558.5" cy="88.9531" fill="#FEFECE" filter="url(#f1f8fashph6vsl)" rx="12" ry="12" style="stroke: #A80036; stroke-width: 2.0;"/><polygon fill="#A80036" points="554.5,76.9531,560.5,71.9531,558.5,76.9531,560.5,81.9531,554.5,76.9531" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="102" x="619" y="117.9482">CamionService</text><ellipse cx="673" cy="88.9531" fill="#FEFECE" filter="url(#f1f8fashph6vsl)" rx="12" ry="12" style="stroke: #A80036; stroke-width: 2.0;"/><polygon fill="#A80036" points="669,76.9531,675,71.9531,673,76.9531,675,81.9531,669,76.9531" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="133" x="737" y="117.9482">ContenedorService</text><ellipse cx="806.5" cy="88.9531" fill="#FEFECE" filter="url(#f1f8fashph6vsl)" rx="12" ry="12" style="stroke: #A80036; stroke-width: 2.0;"/><polygon fill="#A80036" points="802.5,76.9531,808.5,71.9531,806.5,76.9531,808.5,81.9531,802.5,76.9531" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="94" x="886" y="117.9482">UsuarioServie</text><ellipse cx="936" cy="88.9531" fill="#FEFECE" filter="url(#f1f8fashph6vsl)" rx="12" ry="12" style="stroke: #A80036; stroke-width: 2.0;"/><polygon fill="#A80036" points="932,76.9531,938,71.9531,936,76.9531,938,81.9531,932,76.9531" style="stroke: #A80036; stroke-width: 1.0;"/><rect fill="#FFFFFF" filter="url(#f1f8fashph6vsl)" height="653.7891" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="253" y="152.3828"/><rect fill="#FFFFFF" filter="url(#f1f8fashph6vsl)" height="29.1328" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="425" y="181.5156"/><rect fill="#FFFFFF" filter="url(#f1f8fashph6vsl)" height="29.1328" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="425" y="298.0469"/><rect fill="#FFFFFF" filter="url(#f1f8fashph6vsl)" height="30" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="425" y="620.5078"/><rect fill="#FFFFFF" filter="url(#f1f8fashph6vsl)" height="29.1328" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="553.5" y="239.7813"/><rect fill="#FFFFFF" filter="url(#f1f8fashph6vsl)" height="29.1328" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="553.5" y="703.7734"/><rect fill="#FFFFFF" filter="url(#f1f8fashph6vsl)" height="29.1328" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="668" y="356.3125"/><rect fill="#FFFFFF" filter="url(#f1f8fashph6vsl)" height="29.1328" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="668" y="414.5781"/><rect fill="#FFFFFF" filter="url(#f1f8fashph6vsl)" height="29.1328" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="801.5" y="472.8438"/><rect fill="#FFFFFF" filter="url(#f1f8fashph6vsl)" height="29.1328" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="801.5" y="555.2422"/><rect fill="#FFFFFF" filter="url(#f1f8fashph6vsl)" height="29.1328" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="801.5" y="762.0391"/><polygon fill="#A80036" points="241,148.3828,251,152.3828,241,156.3828,245,152.3828" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="48" x2="247" y1="152.3828" y2="152.3828"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="186" x="55" y="147.3169">registrarInicioTramo(request)</text><polygon fill="#A80036" points="413,177.5156,423,181.5156,413,185.5156,417,181.5156" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="263" x2="419" y1="181.5156" y2="181.5156"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="110" x="270" y="176.4497">getById(idTramo)</text><polygon fill="#A80036" points="274,206.6484,264,210.6484,274,214.6484,270,210.6484" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="268" x2="429" y1="210.6484" y2="210.6484"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="39" x="280" y="205.5825">tramo</text><polygon fill="#A80036" points="541.5,235.7813,551.5,239.7813,541.5,243.7813,545.5,239.7813" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="263" x2="547.5" y1="239.7813" y2="239.7813"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="231" x="270" y="234.7153">getSolicitudTrasladoById(idSolicitud)</text><polygon fill="#A80036" points="274,264.9141,264,268.9141,274,272.9141,270,268.9141" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="268" x2="557.5" y1="268.9141" y2="268.9141"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="52" x="280" y="263.8481">solicitud</text><polygon fill="#A80036" points="413,294.0469,423,298.0469,413,302.0469,417,298.0469" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="263" x2="419" y1="298.0469" y2="298.0469"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="143" x="270" y="292.981">buscarPorRuta(idRuta)</text><polygon fill="#A80036" points="274,323.1797,264,327.1797,274,331.1797,270,327.1797" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="268" x2="429" y1="327.1797" y2="327.1797"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="74" x="280" y="322.1138">listaTramos</text><polygon fill="#A80036" points="656,352.3125,666,356.3125,656,360.3125,660,356.3125" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="263" x2="662" y1="356.3125" y2="356.3125"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="109" x="270" y="351.2466">getById(dominio)</text><polygon fill="#A80036" points="274,381.4453,264,385.4453,274,389.4453,270,385.4453" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="268" x2="672" y1="385.4453" y2="385.4453"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="47" x="280" y="380.3794">camion</text><polygon fill="#A80036" points="656,410.5781,666,414.5781,656,418.5781,660,414.5781" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="263" x2="662" y1="414.5781" y2="414.5781"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="180" x="270" y="409.5122">cambiarDisponibilidad(false)</text><polygon fill="#A80036" points="274,439.7109,264,443.7109,274,447.7109,270,443.7109" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="268" x2="672" y1="443.7109" y2="443.7109"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="59" x="280" y="438.645">response</text><polygon fill="#A80036" points="789.5,468.8438,799.5,472.8438,789.5,476.8438,793.5,472.8438" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="263" x2="795.5" y1="472.8438" y2="472.8438"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="144" x="270" y="467.7778">getById(idContenedor)</text><polygon fill="#A80036" points="274,497.9766,264,501.9766,274,505.9766,270,501.9766" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="268" x2="805.5" y1="501.9766" y2="501.9766"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="73" x="280" y="496.9106">contenedor</text><path d="M198,516.9766 L262,516.9766 L262,523.9766 L252,533.9766 L198,533.9766 L198,516.9766 " fill="#EEEEEE" style="stroke: #000000; stroke-width: 1.0;"/><rect fill="none" height="75.3984" style="stroke: #000000; stroke-width: 2.0;" width="688" x="198" y="516.9766"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="19" x="213" y="530.0435">alt</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="166" x="277" y="529.187">[Contenedor en Deposito]</text><polygon fill="#A80036" points="789.5,551.2422,799.5,555.2422,789.5,559.2422,793.5,555.2422" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="263" x2="795.5" y1="555.2422" y2="555.2422"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="191" x="270" y="550.1763">cambioDeEstado(en_transito)</text><polygon fill="#A80036" points="274,580.375,264,584.375,274,588.375,270,584.375" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="268" x2="805.5" y1="584.375" y2="584.375"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="59" x="280" y="579.3091">response</text><polygon fill="#A80036" points="413,616.5078,423,620.5078,413,624.5078,417,620.5078" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="263" x2="419" y1="620.5078" y2="620.5078"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="94" x="270" y="615.4419">update(tramo)</text><path d="M198,665.5078 L262,665.5078 L262,672.5078 L252,682.5078 L198,682.5078 L198,665.5078 " fill="#EEEEEE" style="stroke: #000000; stroke-width: 1.0;"/><rect fill="none" height="133.6641" style="stroke: #000000; stroke-width: 2.0;" width="688" x="198" y="665.5078"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="19" x="213" y="678.5747">alt</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="160" x="277" y="677.7183">[Primer Tramo (Orden 1)]</text><polygon fill="#A80036" points="541.5,699.7734,551.5,703.7734,541.5,707.7734,545.5,703.7734" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="263" x2="547.5" y1="703.7734" y2="703.7734"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="245" x="270" y="698.7075">cambioDeEstadoSolicitud(en_transito)</text><polygon fill="#A80036" points="274,728.9063,264,732.9063,274,736.9063,270,732.9063" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="268" x2="557.5" y1="732.9063" y2="732.9063"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="59" x="280" y="727.8403">response</text><polygon fill="#A80036" points="789.5,758.0391,799.5,762.0391,789.5,766.0391,793.5,762.0391" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="263" x2="795.5" y1="762.0391" y2="762.0391"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="191" x="270" y="756.9731">cambioDeEstado(en_transito)</text><polygon fill="#A80036" points="274,787.1719,264,791.1719,274,795.1719,270,791.1719" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="268" x2="805.5" y1="791.1719" y2="791.1719"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="59" x="280" y="786.106">response</text><!--MD5=[66b95ce0e7a9ded0dc91ee9ac31c90aa]
@startuml
title TramoService - registrarInicioTramo

hide footbox

actor "Cliente/API" as C
control "TramoService" as TS
participant "TramoRepository" as TR
control "EnviosService" as ES
control "CamionService" as CMS
control "ContenedorService" as CS
control "UsuarioServie" as US

C -> TS: registrarInicioTramo(request)
activate TS

TS -> TR: getById(idTramo)
activate TR
TR - -> TS: tramo
deactivate TR

TS -> ES: getSolicitudTrasladoById(idSolicitud)
activate ES
ES - -> TS: solicitud
deactivate ES

TS -> TR: buscarPorRuta(idRuta)
activate TR
TR - -> TS: listaTramos
deactivate TR

TS -> CMS: getById(dominio)
activate CMS
CMS - -> TS: camion
deactivate CMS

TS -> CMS: cambiarDisponibilidad(false)
activate CMS
CMS - -> TS: response
deactivate CMS

TS -> CS: getById(idContenedor)
activate CS
CS - -> TS: contenedor
deactivate CS

alt Contenedor en Deposito
    TS -> CS: cambioDeEstado(en_transito)
    activate CS
    CS - -> TS: response
    deactivate CS
end

TS -> TR: update(tramo)
activate TR
deactivate TR

alt Primer Tramo (Orden 1)
    TS -> ES: cambioDeEstadoSolicitud(en_transito)
    activate ES
    ES - -> TS: response
    deactivate ES

    TS -> CS: cambioDeEstado(en_transito)
    activate CS
    CS - -> TS: response
    deactivate CS
end

deactivate TS
@enduml

PlantUML version 1.2020.02(Sun Mar 01 07:22:07 ART 2020)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Java Version: 21.0.8+9-LTS
Operating System: Linux
Default Encoding: UTF-8
Language: en
Country: US
--></g></svg>