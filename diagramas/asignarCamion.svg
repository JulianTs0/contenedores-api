<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="621px" preserveAspectRatio="none" style="width:1048px;height:621px;" version="1.1" viewBox="0 0 1048 621" width="1048px" zoomAndPan="magnify"><defs><filter height="300%" id="f14g99s81dre6o" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><text fill="#000000" font-family="sans-serif" font-size="18" lengthAdjust="spacingAndGlyphs" textLength="273" x="388.5" y="26.708">TramoService - asignarCamion</text><rect fill="#FFFFFF" filter="url(#f14g99s81dre6o)" height="446.9922" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="222" y="152.3828"/><rect fill="#FFFFFF" filter="url(#f14g99s81dre6o)" height="29.1328" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="394" y="181.5156"/><rect fill="#FFFFFF" filter="url(#f14g99s81dre6o)" height="29.1328" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="394" y="414.5781"/><rect fill="#FFFFFF" filter="url(#f14g99s81dre6o)" height="29.1328" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="522.5" y="239.7813"/><rect fill="#FFFFFF" filter="url(#f14g99s81dre6o)" height="29.1328" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="522.5" y="496.9766"/><rect fill="#FFFFFF" filter="url(#f14g99s81dre6o)" height="87.3984" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="637" y="298.0469"/><rect fill="#FFFFFF" filter="url(#f14g99s81dre6o)" height="29.1328" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="819" y="327.1797"/><rect fill="#FFFFFF" filter="url(#f14g99s81dre6o)" height="29.1328" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="952.5" y="555.2422"/><rect fill="#FFFFFF" filter="url(#f14g99s81dre6o)" height="133.6641" style="stroke: #000000; stroke-width: 2.0;" width="870" x="167" y="458.7109"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="48" x2="48" y1="121.25" y2="609.375"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="227" x2="227" y1="121.25" y2="609.375"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="399" x2="399" y1="121.25" y2="609.375"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="527" x2="527" y1="121.25" y2="609.375"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="642" x2="642" y1="121.25" y2="609.375"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="824" x2="824" y1="121.25" y2="609.375"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="957" x2="957" y1="121.25" y2="609.375"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="74" x="8" y="117.9482">Cliente/API</text><ellipse cx="48" cy="47.9531" fill="#FEFECE" filter="url(#f14g99s81dre6o)" rx="8" ry="8" style="stroke: #A80036; stroke-width: 2.0;"/><path d="M48,55.9531 L48,82.9531 M35,63.9531 L61,63.9531 M48,82.9531 L35,97.9531 M48,82.9531 L61,97.9531 " fill="none" filter="url(#f14g99s81dre6o)" style="stroke: #A80036; stroke-width: 2.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="94" x="177" y="117.9482">TramoService</text><ellipse cx="227" cy="88.9531" fill="#FEFECE" filter="url(#f14g99s81dre6o)" rx="12" ry="12" style="stroke: #A80036; stroke-width: 2.0;"/><polygon fill="#A80036" points="223,76.9531,229,71.9531,227,76.9531,229,81.9531,223,76.9531" style="stroke: #A80036; stroke-width: 1.0;"/><rect fill="#FEFECE" filter="url(#f14g99s81dre6o)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="132" x="331" y="85.9531"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="118" x="338" y="105.9482">TramoRepository</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="95" x="477" y="117.9482">EnviosService</text><ellipse cx="527.5" cy="88.9531" fill="#FEFECE" filter="url(#f14g99s81dre6o)" rx="12" ry="12" style="stroke: #A80036; stroke-width: 2.0;"/><polygon fill="#A80036" points="523.5,76.9531,529.5,71.9531,527.5,76.9531,529.5,81.9531,523.5,76.9531" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="102" x="588" y="117.9482">CamionService</text><ellipse cx="642" cy="88.9531" fill="#FEFECE" filter="url(#f14g99s81dre6o)" rx="12" ry="12" style="stroke: #A80036; stroke-width: 2.0;"/><polygon fill="#A80036" points="638,76.9531,644,71.9531,642,76.9531,644,81.9531,638,76.9531" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="102" x="770" y="117.9482">UsuarioService</text><ellipse cx="824" cy="88.9531" fill="#FEFECE" filter="url(#f14g99s81dre6o)" rx="12" ry="12" style="stroke: #A80036; stroke-width: 2.0;"/><polygon fill="#A80036" points="820,76.9531,826,71.9531,824,76.9531,826,81.9531,820,76.9531" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="133" x="888" y="117.9482">ContenedorService</text><ellipse cx="957.5" cy="88.9531" fill="#FEFECE" filter="url(#f14g99s81dre6o)" rx="12" ry="12" style="stroke: #A80036; stroke-width: 2.0;"/><polygon fill="#A80036" points="953.5,76.9531,959.5,71.9531,957.5,76.9531,959.5,81.9531,953.5,76.9531" style="stroke: #A80036; stroke-width: 1.0;"/><rect fill="#FFFFFF" filter="url(#f14g99s81dre6o)" height="446.9922" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="222" y="152.3828"/><rect fill="#FFFFFF" filter="url(#f14g99s81dre6o)" height="29.1328" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="394" y="181.5156"/><rect fill="#FFFFFF" filter="url(#f14g99s81dre6o)" height="29.1328" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="394" y="414.5781"/><rect fill="#FFFFFF" filter="url(#f14g99s81dre6o)" height="29.1328" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="522.5" y="239.7813"/><rect fill="#FFFFFF" filter="url(#f14g99s81dre6o)" height="29.1328" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="522.5" y="496.9766"/><rect fill="#FFFFFF" filter="url(#f14g99s81dre6o)" height="87.3984" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="637" y="298.0469"/><rect fill="#FFFFFF" filter="url(#f14g99s81dre6o)" height="29.1328" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="819" y="327.1797"/><rect fill="#FFFFFF" filter="url(#f14g99s81dre6o)" height="29.1328" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="952.5" y="555.2422"/><polygon fill="#A80036" points="210,148.3828,220,152.3828,210,156.3828,214,152.3828" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="48" x2="216" y1="152.3828" y2="152.3828"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="155" x="55" y="147.3169">asignarCamion(request)</text><polygon fill="#A80036" points="382,177.5156,392,181.5156,382,185.5156,386,181.5156" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="232" x2="388" y1="181.5156" y2="181.5156"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="110" x="239" y="176.4497">getById(idTramo)</text><polygon fill="#A80036" points="243,206.6484,233,210.6484,243,214.6484,239,210.6484" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="237" x2="398" y1="210.6484" y2="210.6484"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="39" x="249" y="205.5825">tramo</text><polygon fill="#A80036" points="510.5,235.7813,520.5,239.7813,510.5,243.7813,514.5,239.7813" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="232" x2="516.5" y1="239.7813" y2="239.7813"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="231" x="239" y="234.7153">getSolicitudTrasladoById(idSolicitud)</text><polygon fill="#A80036" points="243,264.9141,233,268.9141,243,272.9141,239,268.9141" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="237" x2="526.5" y1="268.9141" y2="268.9141"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="52" x="249" y="263.8481">solicitud</text><polygon fill="#A80036" points="625,294.0469,635,298.0469,625,302.0469,629,298.0469" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="232" x2="631" y1="298.0469" y2="298.0469"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="109" x="239" y="292.981">getById(dominio)</text><polygon fill="#A80036" points="807,323.1797,817,327.1797,807,331.1797,811,327.1797" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="647" x2="813" y1="327.1797" y2="327.1797"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="153" x="654" y="322.1138">getById(idTransportista)</text><polygon fill="#A80036" points="658,352.3125,648,356.3125,658,360.3125,654,356.3125" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="652" x2="823" y1="356.3125" y2="356.3125"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="47" x="664" y="351.2466">usuario</text><polygon fill="#A80036" points="243,381.4453,233,385.4453,243,389.4453,239,385.4453" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="237" x2="641" y1="385.4453" y2="385.4453"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="47" x="249" y="380.3794">camion</text><polygon fill="#A80036" points="382,410.5781,392,414.5781,382,418.5781,386,414.5781" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="232" x2="388" y1="414.5781" y2="414.5781"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="143" x="239" y="409.5122">buscarPorRuta(idRuta)</text><polygon fill="#A80036" points="243,439.7109,233,443.7109,243,447.7109,239,443.7109" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="237" x2="398" y1="443.7109" y2="443.7109"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="74" x="249" y="438.645">listaTramos</text><path d="M167,458.7109 L237,458.7109 L237,465.7109 L227,475.7109 L167,475.7109 L167,458.7109 " fill="#EEEEEE" style="stroke: #000000; stroke-width: 1.0;"/><rect fill="none" height="133.6641" style="stroke: #000000; stroke-width: 2.0;" width="870" x="167" y="458.7109"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="25" x="182" y="471.7778">opt</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="190" x="252" y="470.9214">[Todos los tramos asignados]</text><polygon fill="#A80036" points="510.5,492.9766,520.5,496.9766,510.5,500.9766,514.5,496.9766" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="232" x2="516.5" y1="496.9766" y2="496.9766"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="252" x="239" y="491.9106">cambioDeEstadoSolicitud(programado)</text><polygon fill="#A80036" points="243,522.1094,233,526.1094,243,530.1094,239,526.1094" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="237" x2="526.5" y1="526.1094" y2="526.1094"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="59" x="249" y="521.0435">response</text><polygon fill="#A80036" points="940.5,551.2422,950.5,555.2422,940.5,559.2422,944.5,555.2422" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="232" x2="946.5" y1="555.2422" y2="555.2422"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="198" x="239" y="550.1763">cambioDeEstado(programado)</text><polygon fill="#A80036" points="243,580.375,233,584.375,243,588.375,239,584.375" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="237" x2="956.5" y1="584.375" y2="584.375"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="59" x="249" y="579.3091">response</text><!--MD5=[37227d5e4742bbd101c1b2039995a5cc]
@startuml
title TramoService - asignarCamion 

hide footbox

actor "Cliente/API" as C
control "TramoService" as TS
participant "TramoRepository" as TR
control "EnviosService" as ES
control "CamionService" as CMS
control "UsuarioService" as US
control "ContenedorService" as CS

C -> TS: asignarCamion(request)

activate TS

TS -> TR: getById(idTramo)
activate TR
TR - -> TS: tramo
deactivate TR

TS -> ES: getSolicitudTrasladoById(idSolicitud)
activate ES
ES - -> TS: solicitud
deactivate ES

TS -> CMS: getById(dominio)
activate CMS
    CMS -> US: getById(idTransportista)
    activate US
    US - -> CMS: usuario
    deactivate US
CMS - -> TS: camion
deactivate CMS

TS -> TR: buscarPorRuta(idRuta)
activate TR
TR - -> TS: listaTramos
deactivate TR

opt Todos los tramos asignados
    TS -> ES: cambioDeEstadoSolicitud(programado)
    activate ES
    ES - -> TS: response
    deactivate ES

    TS -> CS: cambioDeEstado(programado)
    activate CS
    CS - -> TS: response
    deactivate CS
end

deactivate TS
@enduml

PlantUML version 1.2020.02(Sun Mar 01 07:22:07 ART 2020)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Java Version: 21.0.8+9-LTS
Operating System: Linux
Default Encoding: UTF-8
Language: en
Country: US
--></g></svg>