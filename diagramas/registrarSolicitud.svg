<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="723px" preserveAspectRatio="none" style="width:998px;height:723px;" version="1.1" viewBox="0 0 998 723" width="998px" zoomAndPan="magnify"><defs><filter height="300%" id="f1rpas4p5v06db" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><text fill="#000000" font-family="sans-serif" font-size="18" lengthAdjust="spacingAndGlyphs" textLength="295" x="352.25" y="26.708">Diagrama de Secuencia - register</text><rect fill="#FFFFFF" filter="url(#f1rpas4p5v06db)" height="541.1953" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="175" y="152.3828"/><rect fill="#FFFFFF" filter="url(#f1rpas4p5v06db)" height="29.1328" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="454" y="205.6484"/><rect fill="#FFFFFF" filter="url(#f1rpas4p5v06db)" height="116.5313" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="454" y="263.9141"/><rect fill="#FFFFFF" filter="url(#f1rpas4p5v06db)" height="116.5313" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="454" y="424.3828"/><rect fill="#FFFFFF" filter="url(#f1rpas4p5v06db)" height="29.1328" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="454" y="570.0469"/><rect fill="#FFFFFF" filter="url(#f1rpas4p5v06db)" height="29.1328" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="772.5" y="293.0469"/><rect fill="#FFFFFF" filter="url(#f1rpas4p5v06db)" height="29.1328" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="772.5" y="453.5156"/><rect fill="#FFFFFF" filter="url(#f1rpas4p5v06db)" height="29.1328" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="911.5" y="635.3125"/><rect fill="#FFFFFF" filter="url(#f1rpas4p5v06db)" height="439.7969" style="stroke: #000000; stroke-width: 2.0;" width="728.5" x="113" y="167.3828"/><rect fill="#FFFFFF" height="218.7344" style="stroke: none; stroke-width: 1.0;" width="728.5" x="113" y="388.4453"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="48" x2="48" y1="121.25" y2="711.5781"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="180" x2="180" y1="121.25" y2="711.5781"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="458.5" x2="458.5" y1="121.25" y2="711.5781"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="625.5" x2="625.5" y1="121.25" y2="711.5781"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="777.5" x2="777.5" y1="121.25" y2="711.5781"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="916.5" x2="916.5" y1="121.25" y2="711.5781"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="74" x="8" y="117.9482">Cliente/API</text><ellipse cx="48" cy="47.9531" fill="#FEFECE" filter="url(#f1rpas4p5v06db)" rx="8" ry="8" style="stroke: #A80036; stroke-width: 2.0;"/><path d="M48,55.9531 L48,82.9531 M35,63.9531 L61,63.9531 M48,82.9531 L35,97.9531 M48,82.9531 L61,97.9531 " fill="none" filter="url(#f1rpas4p5v06db)" style="stroke: #A80036; stroke-width: 2.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="108" x="123" y="117.9482">SolicitudService</text><ellipse cx="180" cy="88.9531" fill="#FEFECE" filter="url(#f1rpas4p5v06db)" rx="12" ry="12" style="stroke: #A80036; stroke-width: 2.0;"/><polygon fill="#A80036" points="176,76.9531,182,71.9531,180,76.9531,182,81.9531,176,76.9531" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="133" x="389.5" y="117.9482">ContenedorService</text><ellipse cx="459" cy="88.9531" fill="#FEFECE" filter="url(#f1rpas4p5v06db)" rx="12" ry="12" style="stroke: #A80036; stroke-width: 2.0;"/><polygon fill="#A80036" points="455,76.9531,461,71.9531,459,76.9531,461,81.9531,455,76.9531" style="stroke: #A80036; stroke-width: 1.0;"/><rect fill="#FEFECE" filter="url(#f1rpas4p5v06db)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="171" x="538.5" y="85.9531"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="157" x="545.5" y="105.9482">ContenedorRepository</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="102" x="723.5" y="117.9482">UsuarioService</text><ellipse cx="777.5" cy="88.9531" fill="#FEFECE" filter="url(#f1rpas4p5v06db)" rx="12" ry="12" style="stroke: #A80036; stroke-width: 2.0;"/><polygon fill="#A80036" points="773.5,76.9531,779.5,71.9531,777.5,76.9531,779.5,81.9531,773.5,76.9531" style="stroke: #A80036; stroke-width: 1.0;"/><rect fill="#FEFECE" filter="url(#f1rpas4p5v06db)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="146" x="841.5" y="85.9531"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="132" x="848.5" y="105.9482">SolicitudRepository</text><rect fill="#FFFFFF" filter="url(#f1rpas4p5v06db)" height="541.1953" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="175" y="152.3828"/><rect fill="#FFFFFF" filter="url(#f1rpas4p5v06db)" height="29.1328" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="454" y="205.6484"/><rect fill="#FFFFFF" filter="url(#f1rpas4p5v06db)" height="116.5313" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="454" y="263.9141"/><rect fill="#FFFFFF" filter="url(#f1rpas4p5v06db)" height="116.5313" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="454" y="424.3828"/><rect fill="#FFFFFF" filter="url(#f1rpas4p5v06db)" height="29.1328" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="454" y="570.0469"/><rect fill="#FFFFFF" filter="url(#f1rpas4p5v06db)" height="29.1328" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="772.5" y="293.0469"/><rect fill="#FFFFFF" filter="url(#f1rpas4p5v06db)" height="29.1328" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="772.5" y="453.5156"/><rect fill="#FFFFFF" filter="url(#f1rpas4p5v06db)" height="29.1328" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="911.5" y="635.3125"/><polygon fill="#A80036" points="163,148.3828,173,152.3828,163,156.3828,167,152.3828" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="48" x2="169" y1="152.3828" y2="152.3828"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="108" x="55" y="147.3169">register(request)</text><path d="M113,167.3828 L185,167.3828 L185,174.3828 L175,184.3828 L113,184.3828 L113,167.3828 " fill="#EEEEEE" style="stroke: #000000; stroke-width: 1.0;"/><rect fill="none" height="439.7969" style="stroke: #000000; stroke-width: 2.0;" width="728.5" x="113" y="167.3828"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="22" x="128" y="180.4497">Try</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="133" x="200" y="179.5933">[Buscar Contenedor]</text><polygon fill="#A80036" points="442,201.6484,452,205.6484,442,209.6484,446,205.6484" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="185" x2="448" y1="205.6484" y2="205.6484"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="229" x="192" y="200.5825">getByPesoVolumen(peso, volumen)</text><polygon fill="#A80036" points="196,230.7813,186,234.7813,196,238.7813,192,234.7813" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="190" x2="458" y1="234.7813" y2="234.7813"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="73" x="202" y="229.7153">contenedor</text><polygon fill="#A80036" points="442,259.9141,452,263.9141,442,267.9141,446,263.9141" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="185" x2="448" y1="263.9141" y2="263.9141"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="250" x="192" y="258.8481">asignarCliente(idContenedor, idCliente)</text><polygon fill="#A80036" points="760.5,289.0469,770.5,293.0469,760.5,297.0469,764.5,293.0469" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="464" x2="766.5" y1="293.0469" y2="293.0469"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="113" x="471" y="287.981">getById(idCliente)</text><polygon fill="#A80036" points="475,318.1797,465,322.1797,475,326.1797,471,322.1797" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="469" x2="776.5" y1="322.1797" y2="322.1797"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="47" x="481" y="317.1138">usuario</text><polygon fill="#A80036" points="614,347.3125,624,351.3125,614,355.3125,618,351.3125" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="464" x2="620" y1="351.3125" y2="351.3125"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="128" x="471" y="346.2466">update(contenedor)</text><polygon fill="#A80036" points="196,376.4453,186,380.4453,196,384.4453,192,380.4453" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="190" x2="458" y1="380.4453" y2="380.4453"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="26" x="202" y="375.3794">void</text><line style="stroke: #000000; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="113" x2="841.5" y1="389.4453" y2="389.4453"/><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="167" x="118" y="399.6558">[Catch [ServiceError 404]]</text><polygon fill="#A80036" points="442,420.3828,452,424.3828,442,428.3828,446,424.3828" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="185" x2="448" y1="424.3828" y2="424.3828"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="216" x="192" y="419.3169">register(peso, volumen, idCliente)</text><polygon fill="#A80036" points="760.5,449.5156,770.5,453.5156,760.5,457.5156,764.5,453.5156" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="464" x2="766.5" y1="453.5156" y2="453.5156"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="113" x="471" y="448.4497">getById(idCliente)</text><polygon fill="#A80036" points="475,478.6484,465,482.6484,475,486.6484,471,482.6484" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="469" x2="776.5" y1="482.6484" y2="482.6484"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="47" x="481" y="477.5825">usuario</text><polygon fill="#A80036" points="614,507.7813,624,511.7813,614,515.7813,618,511.7813" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="464" x2="620" y1="511.7813" y2="511.7813"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="113" x="471" y="506.7153">save(contenedor)</text><polygon fill="#A80036" points="196,536.9141,186,540.9141,196,544.9141,192,540.9141" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="190" x2="458" y1="540.9141" y2="540.9141"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="50" x="202" y="535.8481">nuevoId</text><polygon fill="#A80036" points="442,566.0469,452,570.0469,442,574.0469,446,570.0469" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="185" x2="448" y1="570.0469" y2="570.0469"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="108" x="192" y="564.981">getById(nuevoId)</text><polygon fill="#A80036" points="196,595.1797,186,599.1797,196,603.1797,192,599.1797" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="190" x2="458" y1="599.1797" y2="599.1797"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="73" x="202" y="594.1138">contenedor</text><polygon fill="#A80036" points="899.5,631.3125,909.5,635.3125,899.5,639.3125,903.5,635.3125" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="185" x2="905.5" y1="635.3125" y2="635.3125"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="92" x="192" y="630.2466">save(solicitud)</text><polygon fill="#A80036" points="196,660.4453,186,664.4453,196,668.4453,192,664.4453" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="190" x2="915.5" y1="664.4453" y2="664.4453"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="115" x="202" y="659.3794">solicitudGuardada</text><polygon fill="#A80036" points="59,689.5781,49,693.5781,59,697.5781,55,693.5781" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="53" x2="179" y1="693.5781" y2="693.5781"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="59" x="65" y="688.5122">response</text><!--MD5=[e4b1f2af2acf4f80bc61007314642317]
@startuml
title Diagrama de Secuencia - register 

hide footbox

actor "Cliente/API" as C
control "SolicitudService" as SS
control "ContenedorService" as CS
participant "ContenedorRepository" as CR
control "UsuarioService" as US
participant "SolicitudRepository" as STR

C -> SS: register(request)

activate SS

group Try [Buscar Contenedor]
    SS -> CS: getByPesoVolumen(peso, volumen)
    activate CS
    CS - -> SS: contenedor
    deactivate CS
    
    SS -> CS: asignarCliente(idContenedor, idCliente)
    activate CS
    CS -> US: getById(idCliente)
    activate US
    US - -> CS: usuario
    deactivate US
    CS -> CR: update(contenedor)
    CS - -> SS: void
    deactivate CS

else Catch [ServiceError 404]
    SS -> CS: register(peso, volumen, idCliente)
    activate CS
    CS -> US: getById(idCliente)
    activate US
    US - -> CS: usuario
    deactivate US
    CS -> CR: save(contenedor)
    CS - -> SS: nuevoId
    deactivate CS

    SS -> CS: getById(nuevoId)
    activate CS
    CS - -> SS: contenedor
    deactivate CS
end

SS -> STR: save(solicitud)

activate STR
STR - -> SS: solicitudGuardada
deactivate STR

SS - -> C: response
deactivate SS
@enduml

PlantUML version 1.2020.02(Sun Mar 01 07:22:07 ART 2020)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Java Version: 21.0.8+9-LTS
Operating System: Linux
Default Encoding: UTF-8
Language: en
Country: US
--></g></svg>